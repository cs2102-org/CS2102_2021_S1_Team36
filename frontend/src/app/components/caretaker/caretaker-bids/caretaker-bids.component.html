<div class="content">
  <div class="center">
    <div class="content-box">
      <h2>Caretaker Bids</h2>
      <button class="button button-margin" (click)="showAllBids()" [ngClass]="showType == '' ? 'selected': ''">Show All</button>
      <button class="button button-margin" (click)="showPendingBids()" [ngClass]="showType == 'Pending' ? 'selected': ''">Pending</button>
      <button class="button button-margin" (click)="showRejectedBids()" [ngClass]="showType == 'Rejected' ? 'selected': ''">Rejected</button>
      <button class="button button-margin" (click)="showDoneBids()" [ngClass]="showType == 'Done' ? 'selected': ''">Done</button>
      
      <div class="spacing"></div>
      <div class="container">
        <table>
          <tr> 
            <th class="theader">Pet Owner Name</th>
            <th class="theader">Pet Name</th>
            <th class="theader">Start Date</th>
            <th class="theader">End Date</th>
            <th class="theader">Payment Type</th>
            <th class="theader">Transfer Type</th>
            <th class="theader">Submission Time</th>
            <th class="theader">Amount Bidded</th>
            <th class="theader">Confirmed?</th>
            <th class="theader">Paid?</th>
            <th class="theader">Rating</th>
            <th class="theader"></th>
          </tr>
          <tr *ngFor="let bid of bids">
            <td>{{bid.name}}</td>
            <td>{{bid.pet_name}}</td>
            <td>{{bid.start}}</td>
            <td>{{bid.end}}</td>
            <td>{{bid.payment_type}}</td>
            <td>{{bid.transfer}}</td>
            <td>{{bid.submission_time}}</td>
            <td>${{bid.amount_bidded}}</td>
            <td>{{bid.is_confirmed}}</td>
            <td>{{bid.is_paid}}</td>
            <td>{{bid.rating}}</td>
            <th>
              <div *ngIf="bid.is_confirmed === 'Pending'">
                <button (click)="acceptBid(bid)" class="accept-button">Accept</button>
                <button (click)="rejectBid(bid)" class="reject-button">Reject</button>
              </div>
              <button (click)="postPaid(bid)" class="accept-button" *ngIf="bid.is_confirmed ==='Confirmed' && bid.is_paid === 'Not Paid'">Set As Paid</button>
            </th>
          </tr>
        </table>
      </div>

    </div>
  </div>
</div>

